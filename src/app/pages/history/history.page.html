<ion-header>
    <app-sf-toolbar></app-sf-toolbar>
</ion-header>

<ion-content>
    <ng-container *ngIf="history?.length > 0">
        <ion-virtual-scroll [items]="history" [headerFn]="myHeaderFn" approxItemHeight="72px">
            <ion-item-divider *virtualHeader="let header">
                {{header}}
            </ion-item-divider>
            <ion-item *virtualItem="let historyElement" lines="full" (click)="shuttleClicked(historyElement.shuttle)">
                <ion-thumbnail slot="start">
                    <app-sf-shuttle-icon
                            [color]="colorGeneratorService.getShuttleColor(historyElement.shuttle)"></app-sf-shuttle-icon>
                </ion-thumbnail>
                <ion-label text-wrap>
                    <ion-text>
                        <h2>{{historyElement?.shuttle?.name}}</h2>
                        <p>{{getTime(historyElement?.date)}}</p>
                    </ion-text>
                </ion-label>
                <div (click)="rateClicked(historyElement.shuttle, $event)" class="add-remove-button-div">
                    <ion-button color="tertiary" slot="end">
                        {{"rate.RATE" | translate}}
                        <ion-icon name="star" slot="end"></ion-icon>
                    </ion-button>
                </div>
                <div class="call-icon-div" (click)="callClicked(historyElement.shuttle, $event)">
                    <ion-icon id="call-icon" slot="end" name="call"
                              size="large" color="secondary"></ion-icon>
                </div>

            </ion-item>
        </ion-virtual-scroll>
    </ng-container>

    <p *ngIf="history.length < 1" class="no-data-p"> {{ "history.EMPTY" | translate }}</p>

    <ion-fab *ngIf="history?.length > 0" vertical="center" horizontal="end" slot="fixed">
        <ion-fab-button (click)="clearHistoryAlert()" color="danger" type="button">
            <ion-icon name="trash"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>
