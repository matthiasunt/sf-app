<ion-header>
    <ion-toolbar color="{{districtColors[0]}}" [ngStyle]="getToolbarStyle()">
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
        <ion-title>
            <ng-container *ngIf="district">{{getDistrictName(district)}}
                <ng-container *ngIf="shuttles?.length > 0"> ({{shuttles?.length}})</ng-container>
            </ng-container>
            <ng-container *ngIf="actualCity">{{actualCity}}
                <ng-container *ngIf="shuttles?.length > 0"> ({{shuttles?.length}})</ng-container>
            </ng-container>
            <ion-spinner color="light" *ngIf="coordinates && !actualCity && !noValidCityName && !outOfRange" name="dots"
                         duration="900"></ion-spinner>
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-virtual-scroll [items]="shuttles">
        <ion-item lines="full" *virtualItem="let s" approxItemHeight="59px" (click)="shuttleClicked(s)"
                  [class.alreadyCalledElement]="localData.shuttleCalledLately(s)">
            <ion-thumbnail slot="start">
                <app-sf-shuttle-icon [color]="colorGenerator.getShuttleColor(s)">
                </app-sf-shuttle-icon>
            </ion-thumbnail>
            <ion-label text-wrap>
                <ion-text>
                    <h2>{{ s?.name }}
                        <ion-icon *ngIf="s?.verified" name="checkmark-circle" slot="end" color="secondary"></ion-icon>
                    </h2>
                    <p>
                        <ion-badge *ngIf="coordinates && s?.city?.de && s?.city?.it" color="secondary">
                            {{ getCityName(s) }}
                        </ion-badge>
                        <ion-badge *ngIf="!coordinates && s?.city?.de && s?.city?.it
                                   && districtColors" [style.background-color]="districtColors[0]"
                                   [style.color]="districtColors[1]">
                            {{ getCityName(s) }}
                        </ion-badge>
                    </p>
                </ion-text>
            </ion-label>
            <ion-icon (click)="callClicked(s, $event)" name="call" size="large" slot="end" color="secondary"></ion-icon>
        </ion-item>
    </ion-virtual-scroll>
    <div *ngIf="coordinates && outOfRange">
        <p padding class="no-data-p"> {{ "NO_SHUTTLE_FOUND" | translate }} </p>
    </div>

    <ion-spinner id="big-spinner" *ngIf="shuttles?.length < 1 && !outOfRange" color="tertiary"
                 name="crescent"></ion-spinner>
</ion-content>
