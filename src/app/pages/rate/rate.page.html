<ion-header>
  <ion-toolbar
    color="{{(shuttle$ | async) | shuttleColor}}"
    [ngStyle]="(shuttle$ | async) | shuttleColor | colorStyling"
  >
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title
      >{{"rate.RATE" | translate}} {{(shuttle$ | async)?.name}}</ion-title
    >
    <ion-buttons slot="end">
      <ion-button (click)="deleteClicked()" *ngIf="alreadyRatedByUser">
        <ion-icon name="trash" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item lines="full">
    <ion-label position="stacked" color="primary">Service</ion-label>
    <ion-range
      [(ngModel)]="ratingForm.service"
      name="service"
      min="1"
      max="5"
      step="1"
      snaps="true"
      color="secondary"
      pin="true"
    >
    </ion-range>
    <ion-icon size="small" slot="start" name="sad" color="danger"></ion-icon>
    <ion-icon size="small" slot="end" name="happy" color="secondary"></ion-icon>
  </ion-item>
  <ion-item lines="full">
    <ion-label position="stacked" color="primary">
      {{"rate.RELIABILITY_AND_PUNCTUALITY" | translate}}
    </ion-label>
    <ion-range
      [(ngModel)]="ratingForm.reliabilityAndPunctuality"
      name="reliabilityAndPunctuality"
      min="1"
      max="5"
      step="1"
      snaps="true"
      color="secondary"
      pin="true"
    >
    </ion-range>
    <ion-icon size="small" slot="start" name="sad" color="danger"></ion-icon>
    <ion-icon size="small" slot="end" name="happy" color="secondary"></ion-icon>
  </ion-item>
  <ion-item lines="full">
    <ion-label position="stacked" color="primary">
      {{"rate.DRIVING_STYLE_AND_SECURITY" | translate}}
    </ion-label>
    <ion-range
      [(ngModel)]="ratingForm.drivingStyleAndSecurity"
      name="drivingStyleAndSecurity"
      min="1"
      max="5"
      step="1"
      snaps="true"
      color="secondary"
      pin="true"
    >
    </ion-range>
    <ion-icon size="small" slot="start" name="sad" color="danger"></ion-icon>
    <ion-icon size="small" slot="end" name="happy" color="secondary"></ion-icon>
  </ion-item>
  <ion-item lines="full">
    <ion-label position="stacked" color="primary">
      {{"rate.PRICE" | translate}}
    </ion-label>
    <ion-range
      [(ngModel)]="ratingForm.price"
      name="price"
      min="1"
      max="5"
      step="1"
      snaps="true"
      color="secondary"
      pin="true"
    >
    </ion-range>
    <ion-icon size="small" slot="start" name="sad" color="danger"></ion-icon>
    <ion-icon size="small" slot="end" name="happy" color="secondary"></ion-icon>
  </ion-item>
  <ion-card>
    <ion-item lines="none">
      <ion-label position="stacked" color="primary"
        >{{"rate.REVIEW" | translate}}</ion-label
      >
      <ion-textarea
        [(ngModel)]="ratingForm.review"
        name="review"
        rows="9"
        placeholder="{{'rate.REVIEW_PLACEHOLDER' | translate}}"
      >
      </ion-textarea>
    </ion-item>
  </ion-card>
</ion-content>
<ion-footer class="ion-padding">
  <ng-container *ngIf="shuttle$ | async as shuttle">
    <ion-button (click)="rateClicked(shuttle)" expand="block" color="tertiary"
      >{{"shuttle.RATE" | translate}}</ion-button
    >
  </ng-container>
</ion-footer>
